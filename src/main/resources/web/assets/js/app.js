// Generated by CoffeeScript 1.9.0
(function() {
  var app;

  app = angular.module('RoutePlanner', ['ngProgress', 'ngAnimate']);

  app.base = "/assets/templates/";

  app.api = "/api/";

  app.directive("application", function() {
    var directive;
    directive = {};
    directive.restrict = "E";
    directive.templateUrl = app.base.concat("application.html");
    directive.controller = "ApplicationController";
    return directive;
  });

  app.controller('ApplicationController', [
    '$scope', function($scope) {
      return console.log('appcontroller started');
    }
  ]);

  app.controller('SearchController', [
    '$scope', '$http', 'ngProgress', function($scope, $http, ngProgress) {
      ngProgress.height('6px');
      ngProgress.color('#FFBB00');
      $scope.getLocationFrom = function(val) {
        $scope.listVisibleFrom = val ? true : false;
        return $scope.getLocation(val);
      };
      $scope.getLocationTo = function(val) {
        $scope.listVisibleTo = val ? true : false;
        return $scope.getLocation(val);
      };
      $scope.getLocation = function(val) {
        return $http.get('/api/nodes/' + val).then(function(response) {
          return $scope.list = response.data;
        });
      };
      $scope.setFrom = function(item) {
        $scope.listVisibleFrom = false;
        $scope.from = item.id;
        return $scope.fromStation = item.name;
      };
      $scope.setTo = function(item) {
        $scope.listVisibleTo = false;
        $scope.to = item.id;
        return $scope.toStation = item.name;
      };
      return $scope.performSearch = function() {
        if (($scope.from == null) || ($scope.to == null)) {
          alert('lol');
          return;
        }
        ngProgress.start();
        return $http.get('/api/route/' + $scope.from + '/' + $scope.to).then(function(response) {
          console.log(response);
          $scope.results = response.data;
          $scope.resultsAvailable = true;
          return ngProgress.complete();
        });
      };
    }
  ]);

  app.controller('NavigationController', [
    '$scope', '$location', 'Menu', function($scope, $location, Menu) {
      $scope.mobileNav = false;
      Menu.get({}, function(data) {
        return $scope.menu = data.menu;
      });
      $scope.isActive = function(route) {
        return route === $location.path();
      };
      $scope.toggleMobileNav = function() {
        return $scope.mobileNav = !$scope.mobileNav;
      };
      $scope.hideMobileNav = function() {
        return $scope.mobileNav = false;
      };
    }
  ]);

}).call(this);

//# sourceMappingURL=app.js.map
